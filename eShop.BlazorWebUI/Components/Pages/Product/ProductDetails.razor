@page "/products/details"
@using eShop.BlazorWebUI.Components.Shared.Comments
@using eShop.Domain.DTOs.ProductApi

@inject NavigationManager NavigationManager
@inject IProductService ProductService
@inject ISnackbar Snackbar

<Title Text="@(string.IsNullOrEmpty(Model?.Name) ? "Product Details" : Model.Name)" />

@if (Model is not null)
{
    <MudGrid Justify="Justify.Center">
        <MudItem xs="10">
            <MudGrid Spacing="1">
                <MudItem xs="8">
                    <MudGrid Spacing="1">
                        <ProductImagesPreview Model="Model" />
                        <PropsAndDescription Model="Model" />
                        <Comments Model="Model" />
                    </MudGrid>
                </MudItem>

                <MudItem xs="4">
                    <ProductSideBar Model="Model"/>
                </MudItem>
            </MudGrid>
        </MudItem>
    </MudGrid>
}
else
{
    
}

@code {
    [SupplyParameterFromQuery(Name = "name")] private string Name { get; set; } = string.Empty;
    [SupplyParameterFromQuery(Name = "article")] private long Article { get; set; }

    private ProductDto? Model { get; set; }
}